<div class="register-container">
  <div class="register-card">
    <h2>Registro de cliente</h2>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <!-- Username -->
      <div class="form-group">
        <label for="username">Nombre de usuario</label>
        <input 
          id="username" 
          type="text" 
          formControlName="username"
          placeholder="Mínimo 8 caracteres"
          [class.is-invalid]="f.username.touched && f.username.invalid"
          [class.is-valid]="f.username.touched && f.username.valid" />
        <div class="error" *ngIf="getErrorMessage('username')">
          ⚠️ {{ getErrorMessage('username') }}
        </div>
      </div>

      <!-- Nombre -->
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input 
          id="nombre" 
          type="text" 
          formControlName="nombre"
          placeholder="Solo letras, mínimo 3"
          [class.is-invalid]="f.nombre.touched && f.nombre.invalid"
          [class.is-valid]="f.nombre.touched && f.nombre.valid" />
        <div class="error" *ngIf="getErrorMessage('nombre')">
          ⚠️ {{ getErrorMessage('nombre') }}
        </div>
      </div>

      <!-- Apellido -->
      <div class="form-group">
        <label for="apellido">Apellido</label>
        <input 
          id="apellido" 
          type="text" 
          formControlName="apellido"
          placeholder="Solo letras, mínimo 3"
          [class.is-invalid]="f.apellido.touched && f.apellido.invalid"
          [class.is-valid]="f.apellido.touched && f.apellido.valid" />
        <div class="error" *ngIf="getErrorMessage('apellido')">
          ⚠️ {{ getErrorMessage('apellido') }}
        </div>
      </div>

      <!-- Teléfono -->
      <div class="form-group">
        <label for="telefono">Teléfono</label>
        <input 
          id="telefono" 
          type="text" 
          formControlName="telefono"
          placeholder="Ej: 3106376873"
          maxlength="10"
          [class.is-invalid]="f.telefono.touched && f.telefono.invalid"
          [class.is-valid]="f.telefono.touched && f.telefono.valid" />
        <div class="error" *ngIf="getErrorMessage('telefono')">
          ⚠️ {{ getErrorMessage('telefono') }}
        </div>
      </div>

      <!-- Correo -->
      <div class="form-group">
        <label for="correo">Correo electrónico</label>
        <input 
          id="correo" 
          type="email" 
          formControlName="correo"
          placeholder="ejemplo@correo.com"
          [class.is-invalid]="f.correo.touched && f.correo.invalid"
          [class.is-valid]="f.correo.touched && f.correo.valid" />
        <div class="error" *ngIf="getErrorMessage('correo')">
          ⚠️ {{ getErrorMessage('correo') }}
        </div>
      </div>

      <!-- Contraseña -->
      <div class="form-group">
        <label for="password">Contraseña</label>
        <input 
          id="password" 
          type="password" 
          formControlName="password"
          placeholder="Mínimo 8 caracteres"
          [class.is-invalid]="f.password.touched && f.password.invalid"
          [class.is-valid]="f.password.touched && f.password.valid" />
        <div class="error" *ngIf="getErrorMessage('password')">
          ⚠️ {{ getErrorMessage('password') }}
        </div>
      </div>

      <!-- Mensajes de estado -->
      <div *ngIf="errorMessage" class="alert error-alert">
        {{ errorMessage }}
      </div>
      <div *ngIf="successMessage" class="alert success-alert">
        {{ successMessage }}
      </div>

      <!-- Botón de registro (deshabilitado si el form es inválido) -->
      <button type="submit" [disabled]="loading || registerForm.invalid">
        <span *ngIf="loading">Registrando...</span>
        <span *ngIf="!loading">Registrarse</span>
      </button>
    </form>

    <div class="login-link">
      ¿Ya tienes cuenta?
      <a (click)="goToLogin()">Inicia sesión aquí</a>
    </div>
  </div>
</div>